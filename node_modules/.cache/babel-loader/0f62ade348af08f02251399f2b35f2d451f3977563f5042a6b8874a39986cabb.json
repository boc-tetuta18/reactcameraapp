{"ast":null,"code":"var _jsxFileName = \"/Users/sakamoto/Documents/works/cameraApp_ws/reactcameraapp/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport * as faceapi from 'face-api.js';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isCameraOn, setIsCameraOn] = useState(false);\n  const [capturedImage, setCapturedImage] = useState(null);\n  const [detectionMessage, setDetectionMessage] = useState('');\n  const [isDetectionError, setIsDetectionError] = useState(false);\n  const [isFaceApiModelReady, setIsFaceApiModelReady] = useState(false);\n  const videoRef = useRef(null);\n  const streamRef = useRef(null); // ストリームを保持するためのref\n  const faceApiModelPromiseRef = useRef(null);\n\n  // カメラを起動する\n  const startCamera = async () => {\n    try {\n      setCapturedImage(null); // 新しい撮影のために前の画像をクリア\n      setDetectionMessage('');\n      setIsDetectionError(false);\n      setIsCameraOn(true);\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true\n      });\n      streamRef.current = stream;\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n    } catch (err) {\n      console.error(\"カメラへのアクセスエラー: \", err);\n      alert(\"カメラにアクセスできませんでした。ブラウザの権限設定を確認してください。\");\n      setIsCameraOn(false);\n    }\n  };\n\n  // カメラを停止する\n  const stopCamera = () => {\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n    }\n    if (videoRef.current) {\n      videoRef.current.srcObject = null;\n    }\n    setIsCameraOn(false);\n  };\n  const ensureFaceApiModel = async () => {\n    if (isFaceApiModelReady) {\n      return true;\n    }\n    if (!faceApiModelPromiseRef.current) {\n      faceApiModelPromiseRef.current = faceapi.nets.tinyFaceDetector.loadFromUri('/models').then(() => {\n        setIsFaceApiModelReady(true);\n      }).catch(error => {\n        faceApiModelPromiseRef.current = null;\n        throw error;\n      });\n    }\n    await faceApiModelPromiseRef.current;\n    return true;\n  };\n  const drawBoundingBoxes = (boxes, context) => {\n    context.strokeStyle = '#4caf50';\n    context.lineWidth = 4;\n    boxes.forEach(box => {\n      context.strokeRect(box.x, box.y, box.width, box.height);\n    });\n  };\n  const detectFacesWithFaceDetector = async canvas => {\n    const detector = new window.FaceDetector({\n      fastMode: true\n    });\n    const detections = await detector.detect(canvas);\n    return detections.map(({\n      boundingBox\n    }) => boundingBox);\n  };\n  const detectFacesWithFaceApi = async canvas => {\n    await ensureFaceApiModel();\n    const detections = await faceapi.detectAllFaces(canvas, new faceapi.TinyFaceDetectorOptions());\n    return detections.map(({\n      box\n    }) => ({\n      x: box.left,\n      y: box.top,\n      width: box.width,\n      height: box.height\n    }));\n  };\n  const detectFacesOnCanvas = async (canvas, context) => {\n    try {\n      let boxes = [];\n      if ('FaceDetector' in window) {\n        boxes = await detectFacesWithFaceDetector(canvas);\n      } else {\n        if (!isFaceApiModelReady) {\n          setDetectionMessage('顔検出モデルを読み込んでいます...');\n        }\n        boxes = await detectFacesWithFaceApi(canvas);\n      }\n      if (boxes.length > 0) {\n        drawBoundingBoxes(boxes, context);\n        setDetectionMessage(`${boxes.length}件の顔を検出しました。`);\n        setIsDetectionError(false);\n      } else {\n        setDetectionMessage('顔を検出できませんでした。');\n        setIsDetectionError(false);\n      }\n    } catch (error) {\n      console.error('顔検出エラー: ', error);\n      setDetectionMessage('顔検出中にエラーが発生しました。');\n      setIsDetectionError(true);\n    }\n  };\n\n  // 画像を撮影する\n  const captureImage = async () => {\n    if (!videoRef.current) {\n      return;\n    }\n    const canvas = document.createElement('canvas');\n    canvas.width = videoRef.current.videoWidth;\n    canvas.height = videoRef.current.videoHeight;\n    const context = canvas.getContext('2d');\n    context.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\n    setDetectionMessage('顔を検出しています...');\n    setIsDetectionError(false);\n    await detectFacesOnCanvas(canvas, context);\n    const imageUrl = canvas.toDataURL('image/png');\n    setCapturedImage(imageUrl);\n    stopCamera(); // 撮影後にカメラを停止\n  };\n\n  // 再撮影する\n  const retake = () => {\n    setCapturedImage(null);\n    setDetectionMessage('');\n    setIsDetectionError(false);\n    startCamera();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u30AB\\u30E1\\u30E9\\u30A2\\u30D7\\u30EA\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"camera-container\",\n      children: [!isCameraOn && !capturedImage && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startCamera,\n        className: \"camera-button\",\n        children: \"\\u30AB\\u30E1\\u30E9\\u3092\\u8D77\\u52D5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this), isCameraOn && !capturedImage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          autoPlay: true,\n          playsInline: true,\n          className: \"video-feed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: captureImage,\n          className: \"camera-button capture-button\",\n          children: \"\\u64AE\\u5F71\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: stopCamera,\n          className: \"camera-button close-button\",\n          children: \"\\u9589\\u3058\\u308B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this), capturedImage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"capture-result\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u64AE\\u5F71\\u3057\\u305F\\u753B\\u50CF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: capturedImage,\n          alt: \"Captured\",\n          className: \"captured-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), detectionMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `detection-message${isDetectionError ? ' error' : ''}`,\n          children: detectionMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: retake,\n          className: \"camera-button\",\n          children: \"\\u518D\\u64AE\\u5F71\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"tc1airqdVXWJsc0eC/FDn7bKQMo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","faceapi","jsxDEV","_jsxDEV","App","_s","isCameraOn","setIsCameraOn","capturedImage","setCapturedImage","detectionMessage","setDetectionMessage","isDetectionError","setIsDetectionError","isFaceApiModelReady","setIsFaceApiModelReady","videoRef","streamRef","faceApiModelPromiseRef","startCamera","stream","navigator","mediaDevices","getUserMedia","video","current","srcObject","err","console","error","alert","stopCamera","getTracks","forEach","track","stop","ensureFaceApiModel","nets","tinyFaceDetector","loadFromUri","then","catch","drawBoundingBoxes","boxes","context","strokeStyle","lineWidth","box","strokeRect","x","y","width","height","detectFacesWithFaceDetector","canvas","detector","window","FaceDetector","fastMode","detections","detect","map","boundingBox","detectFacesWithFaceApi","detectAllFaces","TinyFaceDetectorOptions","left","top","detectFacesOnCanvas","length","captureImage","document","createElement","videoWidth","videoHeight","getContext","drawImage","imageUrl","toDataURL","retake","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","autoPlay","playsInline","src","alt","_c","$RefreshReg$"],"sources":["/Users/sakamoto/Documents/works/cameraApp_ws/reactcameraapp/src/App.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport * as faceapi from 'face-api.js';\nimport './App.css';\n\nfunction App() {\n  const [isCameraOn, setIsCameraOn] = useState(false);\n  const [capturedImage, setCapturedImage] = useState(null);\n  const [detectionMessage, setDetectionMessage] = useState('');\n  const [isDetectionError, setIsDetectionError] = useState(false);\n  const [isFaceApiModelReady, setIsFaceApiModelReady] = useState(false);\n  const videoRef = useRef(null);\n  const streamRef = useRef(null); // ストリームを保持するためのref\n  const faceApiModelPromiseRef = useRef(null);\n\n  // カメラを起動する\n  const startCamera = async () => {\n    try {\n      setCapturedImage(null); // 新しい撮影のために前の画像をクリア\n      setDetectionMessage('');\n      setIsDetectionError(false);\n      setIsCameraOn(true);\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n      streamRef.current = stream;\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n    } catch (err) {\n      console.error(\"カメラへのアクセスエラー: \", err);\n      alert(\"カメラにアクセスできませんでした。ブラウザの権限設定を確認してください。\");\n      setIsCameraOn(false);\n    }\n  };\n\n  // カメラを停止する\n  const stopCamera = () => {\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n    }\n    if (videoRef.current) {\n      videoRef.current.srcObject = null;\n    }\n    setIsCameraOn(false);\n  };\n\n  const ensureFaceApiModel = async () => {\n    if (isFaceApiModelReady) {\n      return true;\n    }\n    if (!faceApiModelPromiseRef.current) {\n      faceApiModelPromiseRef.current = faceapi.nets.tinyFaceDetector\n        .loadFromUri('/models')\n        .then(() => {\n          setIsFaceApiModelReady(true);\n        })\n        .catch(error => {\n          faceApiModelPromiseRef.current = null;\n          throw error;\n        });\n    }\n    await faceApiModelPromiseRef.current;\n    return true;\n  };\n\n  const drawBoundingBoxes = (boxes, context) => {\n    context.strokeStyle = '#4caf50';\n    context.lineWidth = 4;\n    boxes.forEach(box => {\n      context.strokeRect(box.x, box.y, box.width, box.height);\n    });\n  };\n\n  const detectFacesWithFaceDetector = async (canvas) => {\n    const detector = new window.FaceDetector({ fastMode: true });\n    const detections = await detector.detect(canvas);\n    return detections.map(({ boundingBox }) => boundingBox);\n  };\n\n  const detectFacesWithFaceApi = async (canvas) => {\n    await ensureFaceApiModel();\n    const detections = await faceapi.detectAllFaces(canvas, new faceapi.TinyFaceDetectorOptions());\n    return detections.map(({ box }) => ({\n      x: box.left,\n      y: box.top,\n      width: box.width,\n      height: box.height\n    }));\n  };\n\n  const detectFacesOnCanvas = async (canvas, context) => {\n    try {\n      let boxes = [];\n      if ('FaceDetector' in window) {\n        boxes = await detectFacesWithFaceDetector(canvas);\n      } else {\n        if (!isFaceApiModelReady) {\n          setDetectionMessage('顔検出モデルを読み込んでいます...');\n        }\n        boxes = await detectFacesWithFaceApi(canvas);\n      }\n\n      if (boxes.length > 0) {\n        drawBoundingBoxes(boxes, context);\n        setDetectionMessage(`${boxes.length}件の顔を検出しました。`);\n        setIsDetectionError(false);\n      } else {\n        setDetectionMessage('顔を検出できませんでした。');\n        setIsDetectionError(false);\n      }\n    } catch (error) {\n      console.error('顔検出エラー: ', error);\n      setDetectionMessage('顔検出中にエラーが発生しました。');\n      setIsDetectionError(true);\n    }\n  };\n\n  // 画像を撮影する\n  const captureImage = async () => {\n    if (!videoRef.current) {\n      return;\n    }\n\n    const canvas = document.createElement('canvas');\n    canvas.width = videoRef.current.videoWidth;\n    canvas.height = videoRef.current.videoHeight;\n    const context = canvas.getContext('2d');\n    context.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\n\n    setDetectionMessage('顔を検出しています...');\n    setIsDetectionError(false);\n    await detectFacesOnCanvas(canvas, context);\n\n    const imageUrl = canvas.toDataURL('image/png');\n    setCapturedImage(imageUrl);\n    stopCamera(); // 撮影後にカメラを停止\n  };\n\n  // 再撮影する\n  const retake = () => {\n    setCapturedImage(null);\n    setDetectionMessage('');\n    setIsDetectionError(false);\n    startCamera();\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>カメラアプリ</h1>\n      <div className=\"camera-container\">\n        {!isCameraOn && !capturedImage && (\n          <button onClick={startCamera} className=\"camera-button\">カメラを起動</button>\n        )}\n\n        {isCameraOn && !capturedImage && (\n          <div className=\"video-container\">\n            <video ref={videoRef} autoPlay playsInline className=\"video-feed\" />\n            <button onClick={captureImage} className=\"camera-button capture-button\">撮影</button>\n            <button onClick={stopCamera} className=\"camera-button close-button\">閉じる</button>\n          </div>\n        )}\n\n        {capturedImage && (\n          <div className=\"capture-result\">\n            <h2>撮影した画像</h2>\n            <img src={capturedImage} alt=\"Captured\" className=\"captured-image\" />\n            {detectionMessage && (\n              <p className={`detection-message${isDetectionError ? ' error' : ''}`}>\n                {detectionMessage}\n              </p>\n            )}\n            <button onClick={retake} className=\"camera-button\">再撮影</button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}