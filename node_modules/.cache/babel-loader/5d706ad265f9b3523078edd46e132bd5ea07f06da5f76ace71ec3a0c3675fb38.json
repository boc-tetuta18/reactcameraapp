{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport './App.css';\nfunction App() {\n  _s();\n  const [isCameraOn, setIsCameraOn] = useState(false);\n  const [capturedImage, setCapturedImage] = useState(null);\n  const videoRef = useRef(null);\n  const streamRef = useRef(null); // ストリームを保持するためのref\n\n  // capturedImageがセットされたらカメラを停止する\n  useEffect(() => {\n    if (capturedImage) {\n      stopCamera();\n    }\n  }, [capturedImage]);\n\n  // カメラを起動する\n  const startCamera = async () => {\n    context.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\n    const imageUrl = canvas.toDataURL('image/png');\n    setCapturedImage(imageUrl);\n  };\n}\n_s(App, \"3q7949ivmmLCdTdoAOrl3bLX0vc=\");\n_c = App;\n;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","App","_s","isCameraOn","setIsCameraOn","capturedImage","setCapturedImage","videoRef","streamRef","stopCamera","startCamera","context","drawImage","current","canvas","width","height","imageUrl","toDataURL","_c","$RefreshReg$"],"sources":["/Users/sakamoto/my-app/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [isCameraOn, setIsCameraOn] = useState(false);\n  const [capturedImage, setCapturedImage] = useState(null);\n  const videoRef = useRef(null);\n  const streamRef = useRef(null); // ストリームを保持するためのref\n\n  // capturedImageがセットされたらカメラを停止する\n  useEffect(() => {\n    if (capturedImage) {\n      stopCamera();\n    }\n  }, [capturedImage]);\n\n  // カメラを起動する\n  const startCamera = async () => {\n      context.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\n      const imageUrl = canvas.toDataURL('image/png');\n      setCapturedImage(imageUrl);\n    }\n  };\n\n\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAO,WAAW;AAElB,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACO,aAAa,EAAEC,gBAAgB,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAMS,QAAQ,GAAGR,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMS,SAAS,GAAGT,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;;EAEhC;EACAC,SAAS,CAAC,MAAM;IACd,IAAIK,aAAa,EAAE;MACjBI,UAAU,CAAC,CAAC;IACd;EACF,CAAC,EAAE,CAACJ,aAAa,CAAC,CAAC;;EAEnB;EACA,MAAMK,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC5BC,OAAO,CAACC,SAAS,CAACL,QAAQ,CAACM,OAAO,EAAE,CAAC,EAAE,CAAC,EAAEC,MAAM,CAACC,KAAK,EAAED,MAAM,CAACE,MAAM,CAAC;IACtE,MAAMC,QAAQ,GAAGH,MAAM,CAACI,SAAS,CAAC,WAAW,CAAC;IAC9CZ,gBAAgB,CAACW,QAAQ,CAAC;EAC5B,CAAC;AACH;AAACf,EAAA,CAnBMD,GAAG;AAAAkB,EAAA,GAAHlB,GAAG;AAmBT;AAAC,IAAAkB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}